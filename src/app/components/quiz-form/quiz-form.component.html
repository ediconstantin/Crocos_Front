<app-header></app-header>

<div class="p-grid">
  <div class="p-col-fixed centered error-message-container">
    <div class="p-grid">
      <div class="p-col-12">
        <p-messages [(value)]="errorMsgs"></p-messages>
      </div>
    </div>
  </div>
</div>


<div class="article-form">
  <div class="p-grid">
    <div class="p-col-12">
      <div *ngIf="STATE === STATES.VIEW">
        <h2 class="page-title">View Quiz</h2>
      </div>
      <div *ngIf="STATE === STATES.EDIT">
        <h2 class="page-title">Edit Quiz</h2>
      </div>
      <div *ngIf="STATE === STATES.NEW">
        <h2 class="page-title">Create Quiz</h2>
      </div>
    </div>

    <div class="p-col-fixed centered">
      <div *ngIf="STATE === STATES.VIEW">
        <div class="control-buttons">
          <button pButton type="button" label="Edit" class="ui-button-raised ui-button-rounded" (click)="editArticle()"></button>
          <button pButton type="button" label="Delete" class="ui-button-raised ui-button-rounded" (click)="deleteConfirmation()"></button>
        </div>
      </div>
    </div>
  </div>


  <div class="p-grid" style="margin-left: 5px;">
    <div class="p-col-8">
      <div class="p-grid data-line">
        <div class="p-col-12"></div>
        <div class="p-col-4">
          <h2>General Information</h2>
        </div>
        <div class="p-col-6"></div>
        <div class="p-col-4">
          <label for="title">Title</label>
        </div>
        <div class="p-col-6">
          <input pInputText id="title" [(ngModel)]="quizPageModel.name" [disabled]="STATE === STATES.VIEW">
        </div>
        <div class="p-col-4">
          <label for="Description">Description</label>
        </div>
        <div class="p-col-6">
          <input pInputText id="Description" [(ngModel)]="quizPageModel.description" [disabled]="STATE === STATES.VIEW">
        </div>
        <div class="p-col-4">
          <label for="duration">Choose a duration in seconds for each question
          </label>
          <i class="fa fa-info-circle tooltip" pTooltip="#"></i>
        </div>
        <div class="p-col-6">
          <input pInputText id="duration" [(ngModel)]="quizPageModel.duration" [disabled]="STATE === STATES.VIEW">
        </div>
        <div class="p-col-4">
          <label for="questionNumber">How many questions will the quiz have?</label>
        </div>
        <div class="p-col-6">
          <input pInputText id="questionNumber" [(ngModel)]="quizPageModel.questionsNumber" [disabled]="STATE === STATES.VIEW">
        </div>
        <div class="p-col-4">
          <label for="retries">How many retries does a student have?</label>
        </div>
        <div class="p-col-6">
          <input pInputText id="retries" [(ngModel)]="quizPageModel.retries" [disabled]="STATE === STATES.VIEW">
        </div>
        <div class="p-col-4">
          <label for="backwards">Can the student go to a previously answered question?</label>
        </div>
        <div class="p-col-6">
          <p-checkbox name="groupname" value="1" (change)="backwardConfirmation($event, value)" [(ngModel)]="quizPageModel.backwards"></p-checkbox>
        </div>
        <div class="p-col-4">
          <label for="feedback">Is feedback enabled for this quiz</label>
        </div>
        <div class="p-col-6">
          <p-checkbox name="groupname" value="1" [(ngModel)]="quizPageModel.feedback"></p-checkbox>
        </div>
        <div class="p-col-4">
          <label for="public">Is the quiz public?</label>
        </div>
        <div class="p-col-6">
          <p-checkbox name="groupname" value="1" [(ngModel)]="quizPageModel.isPublic"></p-checkbox>
        </div>
        <div class="p-col-8"></div>
        <div class="p-col-4"></div>
        <div class="p-col-4">
          <button pButton type="button" label="Add new question" (click)="addQuestions(quizPageModel.questionsNumber)" [disabled]="STATE === STATES.VIEW"></button>
        </div>
      </div>
    </div>
  </div>

  <div class="p-grid footer" *ngIf="STATE !== STATES.VIEW">
    <div class="p-col-fixed centered edit-buttons">
      <button pButton type="button" label="Save" (click)="saveQuiz()"></button>
      <button pButton type="button" label="Cancel" (click)="cancelQuiz()"></button>
    </div>
  </div>
</div>